<div class="widget">
  <div class="widget-heading">
    <div class="row align-items-center">
      <div class="col d-flex justify-content-center justify-content-sm-start pb-2 pb-sm-0">
        <h3 class="widget-title">{{ 'presentations' | lang }}</h3>
      </div>
      <div class="col col-sm-auto mr-auto d-flex justify-content-center justify-content-sm-start">
        <ul class="widget-tabs d-flex">
          <li ng-click="presentation.setFilter('tab','all')"  ng-class="{'active': presentation.current_tab == 'all'}">{{ 'all' | lang }}</li>
          <li ng-click="presentation.setFilter('tab','downloaded')" ng-class="{'active': presentation.current_tab == 'downloaded'}">{{ 'downloaded' | lang }}</li>
          <li ng-click="presentation.setFilter('tab','not-downloaded')" ng-class="{'active': presentation.current_tab == 'not-downloaded'}">{{ 'not_downloaded' | lang }}</li>
        </ul>
      </div>
    </div>
  </div>
  <div class="widget-table">
    <div class="row widget-table-heading mx-0 d-none d-md-flex">
      <div class="col-5">{{ 'title' | lang }}</div>
      <div class="col">{{ 'create_date' | lang }}</div>
      <div class="col">{{ 'attachments' | lang }}</div>
      <div class="col">{{ 'download_date' | lang }}</div>
      <div class="col-2"></div>
    </div>
    <hr class="d-md-none mt-1 mb-0">
    <div class="widget-table-body" ng-show="presentation.isLoading">
      <div class="dot-loader"></div>
    </div>
    <div class="widget-no-results" ng-show="!presentation.isLoading && !presentation.list.length"><i class="ic-presentation"></i>{{ 'presentation.no_presentations_found' | lang }}</div>
    <div class="widget-table-body" ng-hide="presentation.isLoading">
      <div ng-repeat="item in presentation.list" class="widget-table-item">
        <div class="row mx-0 align-items-center">
          <div class="col-md-5 pb-3 pb-md-0">
            <div class="d-flex align-items-center">
              <a ng-href="{{ $root.baseUrl+'/download/presentation/'+item.id }}" class="widget-table-item-title">{{ item.title }}</a>
            </div>
          </div>
          <div class="col">
            <div class="text-muted mb-2 d-md-none">{{ 'create_date' | lang }}</div>
            <div>{{ item.created_at | dateF }}</div>
          </div>
          <div class="col">
            <div class="text-muted mb-2 d-md-none">{{ 'attachments' | lang }}</div>
            {{ item.uploads_count }}
          </div>
          <div class="col-auto col-sm">
            <div class="d-none d-sm-block">
              <div class="text-muted mb-2 d-md-none">{{ 'download_date' | lang }}</div>
              <div class="text-muted" ng-hide="item.downloaded_at">{{ 'not_downloaded_yet' | lang }}</div>
              <div ng-show="item.downloaded_at">{{ item.downloaded_at | dateF: 'yyyy/MM/dd HH:mm' }}</div>
            </div>
          </div>
          <div class="col-md-2 col-12 pt-5 pt-md-0 d-flex justify-content-center justify-content-md-end">
            <a type="button" ng-href="{{ $root.baseUrl+'/download/presentation/'+item.id }}" class="btn btn-outline-primary rounded">
              {{ 'download' | lang }}
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="mt-3 d-flex justify-content-end" ng-if="view == 'summary'">
  <a href="#/presentations" class="btn btn-light rounded btn-more">{{ 'view_all' | lang }}<i class="ic-arrow-{{ $root.langProp.ops_side }} m{{ $root.langProp.short_side }}-2"></i></a>
</div>
